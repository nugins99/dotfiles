set editing-mode vi 
set keymap vi-command

set show-all-if-ambiguous on

# Ignore case
set completion-ignore-case on

# on menu-complete, first display the common prefix, then cycle through the 
# options when hitting TAB
menu-complete-display-prefix on



$if mode=vi
    set keymap vi-command
    "jk": vi-insertion-mode

    # Insert the arguments from the last command
    "p": "i !!*\r"

    set keymap vi-insert
    "jk": vi-movement-mode

    #cycle thru completions.
    "\e/": menu-complete

    # wrap previous command in $() and edit beginning of line 
    "\C-w": '\e-I $(\eA)\eI'

    # Edit options before rerunning previous command, eg: ls a b c -> ls -al a b c
    "\C-o": "\e-0eli "

    # Needed because binding 'p' in command mode above wipes its insert mode
    # # function, too. This fixes that, and will insert 'p' when you type 'p'.
    "p": self-insert

    # vim tyle history search
    "\e[A": history-search-backward
    "\e[B": history-search-forward
$endif

# return to previous directory
"\ez": 'cd -\015'




# TODO - read and understand more of what I can do here. 
# https://www.reddit.com/r/commandline/comments/e6l5l/short_guide_to_custom_bashreadline_key_bindings/

